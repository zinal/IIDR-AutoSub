<?xml version="1.0" encoding="UTF-8"?>
<assembly xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0
                http://maven.apache.org/xsd/assembly-1.1.0.xsd">
  <id>bin</id>
  <baseDirectory>iidr-autosub</baseDirectory>
  <formats>
    <format>zip</format>
  </formats>
  <fileSets>
    <fileSet>
      <directory>${project.build.directory}</directory>
      <outputDirectory>lib</outputDirectory>
      <includes>
        <include>*.jar</include>
      </includes>
      <excludes>
          <exclude>*-javadoc.jar</exclude>
          <exclude>*-sources.jar</exclude>
      </excludes>
    </fileSet>
    <fileSet>
      <directory>${project.build.directory}/depjars</directory>
      <outputDirectory>lib</outputDirectory>
      <includes>
        <include>*.jar</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>${basedir}/run/classes</directory>
      <outputDirectory>classes</outputDirectory>
      <includes>
        <include>*.xml</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>${basedir}/run/recovery</directory>
      <outputDirectory>recovery</outputDirectory>
      <includes>
        <include>.keepme</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>${basedir}/run/subs</directory>
      <outputDirectory>subs</outputDirectory>
      <includes>
        <include>.keepme</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>${basedir}/run/subs-sample</directory>
      <outputDirectory>subs-sample</outputDirectory>
      <includes>
        <include>*.xml</include>
      </includes>
    </fileSet>
    <fileSet>
        <directory>${basedir}/run</directory>
        <outputDirectory>.</outputDirectory>
        <includes>
            <include>*.sh</include>
            <include>*.bat</include>
        </includes>
        <excludes>
            <exclude>autosub-config.sh</exclude>
        </excludes>
        <fileMode>750</fileMode>
    </fileSet>
    <fileSet>
        <directory>${basedir}/run</directory>
        <outputDirectory>.</outputDirectory>
        <includes>
            <include>*.sql</include>
            <include>*.txt</include>
            <include>*.sample</include>
        </includes>
        <fileMode>640</fileMode>
    </fileSet>
    <fileSet>
        <directory>${basedir}/rules</directory>
        <outputDirectory>rules</outputDirectory>
        <includes>
            <include>*.xml</include>
        </includes>
        <fileMode>640</fileMode>
    </fileSet>
  </fileSets>
</assembly>